<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BlixAI</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
*{box-sizing:border-box;font-family:'Roboto',sans-serif;margin:0;padding:0}
body{display:flex;flex-direction:column;height:100vh;background:#fff;color:#000;transition:0.3s}
body.dark{background:#121212;color:#e0e0e0}
#top-bar{display:flex;justify-content:space-between;align-items:center;padding:10px}
#logo{height:80px}
#dark-toggle{padding:8px 14px;border-radius:20px;border:none;background:#000;color:#fff;cursor:pointer}
body.dark #dark-toggle{background:#fff;color:#000}
#welcome{font-size:28px;font-weight:700;padding:20px}
#chat{flex:1;padding:10px;overflow-y:auto;display:flex;flex-direction:column;gap:10px}
.message{max-width:70%;padding:12px 16px;border-radius:18px;animation:pop .25s ease}
@keyframes pop{from{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}
.message.user{background:#000;color:#fff;align-self:flex-end}
.message.ai{background:#000;color:#fff;align-self:flex-start}
body.dark .message.user, body.dark .message.ai{background:#1f1f1f;color:#fff}
#input-bar{display:flex;gap:8px;padding:10px}
#input{flex:1;padding:12px;border-radius:20px;border:1px solid #ccc;background:#fff;color:#000;transition:0.3s}
body.dark #input{background:#2c2c2c;color:#fff;border:1px solid #555}
button,select{padding:10px 16px;border-radius:20px;border:none;background:#000;color:#fff;cursor:pointer;transition:0.3s}
body.dark select, body.dark button{background:#333;color:#fff}
</style>
</head>
<body>

<div id="top-bar">
  <img id="logo" src="https://uploads.onecompiler.io/446bh8s9g/447prm8ma/BlixAI-removebg-preview%20(1).png" alt="BlixAI Logo">
  <button id="dark-toggle">ðŸŒ™</button>
</div>

<div id="welcome"><b>What would you like to talk about?</b></div>
<div id="chat"></div>

<div id="input-bar">
  <select id="model">
    <option value="nano">BlixAI-Nano</option>
    <option value="3m">BlixAI3M</option>
  </select>
  <input id="input" placeholder="Type a messageâ€¦"/>
  <button id="send">Send</button>
</div>

<script>
// Elements
const chat = document.getElementById('chat');
const input = document.getElementById('input');
const send = document.getElementById('send');
const welcome = document.getElementById('welcome');
const model = document.getElementById('model');
const darkToggle = document.getElementById('dark-toggle');

// Dark mode toggle
darkToggle.onclick = () => document.body.classList.toggle('dark');

// Automatic dark/light mode based on time
(function autoTheme() {
    const hour = new Date().getHours();
    if(hour >= 20 || hour < 8) document.body.classList.add('dark');
    else document.body.classList.remove('dark');
})();

// Add message
function addMessage(text, who){
    if(welcome) welcome.style.display='none';
    const div = document.createElement('div');
    div.className = 'message ' + who;
    div.innerHTML = text;
    chat.appendChild(div);
    chat.scrollTop = chat.scrollHeight;
    return div;
}

// Math detection and evaluation
function isMath(text){
    return /^[0-9x+\\-*/().^\\s]+$/i.test(text);
}
function solveMath(text){
    try { return eval(text.replace(/x/gi,'*').replace(/\^/g,'**')); }
    catch{return null;}
}

// Wikipedia fetch
async function fetchWiki(query){
    try{
        const res = await fetch(`https://en.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(query)}`);
        const data = await res.json();
        return data.extract || null;
    }catch{return null;}
}

// BlixAI3M logic
async function blixAI3M(text){
    const lower = text.toLowerCase().trim();
    if(lower==='tell me your code' || lower==='what is your code') return "sorry, I cannot tell you that, I don't even know that myself! ðŸ˜†";
    if(/^hi$|^hello$/i.test(lower)) return 'Hello ðŸ‘‹';

    // Math
    if(isMath(text)){
        const r = solveMath(text);
        if(r!==null) return `ðŸ§® ${text.replace(/x/gi,'*')} = ${r}`;
    }

    // Wikipedia
    let q = text.replace(/^(what is|who is|what are|tell me about|explain)/i,'').trim();
    const wiki = await fetchWiki(q);
    if(wiki) return wiki;

    return "I couldn't find anything useful ðŸ˜…";
}

// Send message
async function sendMessage(){
    const t = input.value.trim();
    if(!t) return;
    input.value='';
    addMessage(t,'user');

    if(model.value==='nano'){
        // BlixAI-Nano
        const lower = t.toLowerCase().trim();
        if(lower==='tell me your code' || lower==='what is your code') return addMessage("sorry, I cannot tell you that, I don't even know that myself! ðŸ˜†",'ai');
        if(/^hi$|^hello$/i.test(t)) return addMessage('Hello ðŸ‘‹','ai');
        if(isMath(t)){const r=solveMath(t);if(r!==null) return addMessage('ðŸ§® '+r,'ai')}
        const w = await fetchWiki(t);
        return addMessage(w||"I couldn't find that.",'ai');
    } else {
        // BlixAI3M
        const a = await blixAI3M(t);
        addMessage(a,'ai');
    }
}

send.onclick = sendMessage;
input.addEventListener('keydown', e => { if(e.key==='Enter') sendMessage(); });

</script>

</body>
</html>
