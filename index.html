<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>BlixAI</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
*{box-sizing:border-box;font-family:'Roboto',sans-serif}
body{margin:0;height:100vh;display:flex;flex-direction:column;background:#fff;color:#000;transition:.3s}
body.dark{background:#121212;color:#fff}
#top-bar{display:flex;justify-content:space-between;align-items:center;padding:10px}
#logo{height:40px}
#dark-toggle{padding:8px 14px;border-radius:20px;border:none;background:#000;color:#fff;cursor:pointer}
body.dark #dark-toggle{background:#fff;color:#000}
#welcome{font-size:28px;font-weight:700;padding:20px}
#chat{flex:1;padding:10px;overflow-y:auto;display:flex;flex-direction:column;gap:10px}
.message{max-width:70%;padding:12px 16px;border-radius:18px;animation:pop .25s ease}
@keyframes pop{from{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}
.user{background:#000;color:#fff;align-self:flex-end}
.ai{background:#000;color:#fff;align-self:flex-start}
body.dark .user,body.dark .ai{background:#1f1f1f}
#input-bar{display:flex;gap:8px;padding:10px}
#input{flex:1;padding:12px;border-radius:20px;border:1px solid #ccc}
button,select{padding:10px 16px;border-radius:20px;border:none;background:#000;color:#fff;cursor:pointer}
body.dark #input{background:#2c2c2c;color:#fff;border:1px solid #555}
body.dark select{background:#2c2c2c;color:#fff}
</style>
</head>
<body>

<div id="top-bar">
  <img id="logo" src="https://uploads.onecompiler.io/446bh8s9g/447prm8ma/BlixAI-removebg-preview.png" alt="BlixAI Logo">
  <button id="dark-toggle">ðŸŒ™</button>
</div>
<div id="welcome">What would you like to talk about?</div>
<div id="chat"></div>

<div id="input-bar">
  <select id="model">
    <option value="nano">BlixAI-Nano</option>
    <option value="3m">BlixAI3M</option>
  </select>
  <input id="input" placeholder="Type a messageâ€¦" />
  <button id="send">Send</button>
</div>

<script>
const chat=document.getElementById('chat');
const input=document.getElementById('input');
const send=document.getElementById('send');
const welcome=document.getElementById('welcome');
const model=document.getElementById('model');

(function autoTheme(){const h=new Date().getHours();if(h>=20||h<8)document.body.classList.add('dark')})();

document.getElementById('dark-toggle').onclick=()=>document.body.classList.toggle('dark');

function addMessage(text,who){
  if(welcome) welcome.style.display='none';
  const div=document.createElement('div');
  div.className='message '+who;
  div.innerHTML=text;
  chat.appendChild(div);
  chat.scrollTop=chat.scrollHeight;
}

function isMath(t){return /^[0-9+\-*/x().^\s]+$/i.test(t)}
function solveMath(t){try{return eval(t.replace(/x/gi,'*').replace(/\^/g,'**'))}catch{return null}}

async function fetchWiki(q){try{const r=await fetch(`https://en.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(q)}`);const d=await r.json();return d.extract||null}catch{return null}}

async function fetchDuck(q){try{const r=await fetch(`https://api.duckduckgo.com/?q=${encodeURIComponent(q)}&format=json&no_redirect=1`);const d=await r.json();if(!d.RelatedTopics||!d.RelatedTopics.length)return null;return d.RelatedTopics.slice(0,5).map(x=>'â€¢ '+x.Text).join('<br>')}catch{return null}}

async function blixAI3M(text){
  const lower=text.toLowerCase().trim();
  if(lower==='tell me your code' || lower==='what is your code') return "sorry, I cannot tell you that, I don't even know that myself! ðŸ˜†";
  if(/^(hi|hello)$/.test(lower)) return 'Hello ðŸ‘‹';
  if(isMath(text)){
    const r=solveMath(text);
    if(r!==null) return `ðŸ§® ${text.replace(/x/gi,'*')} = ${r}`;
  }
  let q=text.replace(/^(what is|who is|what are|tell me about|explain)/i,'').trim();
  const wiki=await fetchWiki(q);
  if(wiki) return wiki;
  const duck=await fetchDuck(text);
  if(duck) return duck;
  return 'I couldn\'t find anything useful ðŸ˜…';
}

send.onclick=async()=>{
  const t=input.value.trim();
  if(!t) return;
  input.value='';
  addMessage(t,'user');
  if(model.value==='nano'){
    const lower=t.toLowerCase().trim();
    if(lower==='tell me your code' || lower==='what is your code') return addMessage("sorry, I cannot tell you that, I don't even know that myself! ðŸ˜†",'ai');
    if(/^(hi|hello)$/i.test(t)) return addMessage('Hello ðŸ‘‹','ai');
    if(isMath(t)){const r=solveMath(t);if(r!==null)return addMessage('ðŸ§® '+r,'ai')}
    const w=await fetchWiki(t);
    return addMessage(w||'I couldn\'t find that.','ai');
  } else {
    const a=await blixAI3M(t);
    addMessage(a,'ai');
  }
};

input.addEventListener('keydown',e=>{if(e.key==='Enter')send.onclick()});
</script>
</body>
</html>
